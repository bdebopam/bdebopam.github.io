{"ast":null,"code":"import React, { useState, useRef, useLayoutEffect, useCallback, forwardRef } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n/**\n * We use a negative right on the content to hide original OS scrollbars\n */\n\n\nvar OS_SCROLLBAR_WIDTH = function () {\n  var outer = document.createElement('div');\n  var inner = document.createElement('div');\n  outer.style.overflow = 'scroll';\n  outer.style.width = '100%';\n  inner.style.width = '100%';\n  document.body.appendChild(outer);\n  outer.appendChild(inner);\n  var scrollbarWidth = outer.offsetWidth - inner.offsetWidth;\n  outer.removeChild(inner);\n  document.body.removeChild(outer);\n  return scrollbarWidth;\n}();\n/**\n * We need this for OSs that automatically hide the scrollbar (so the offset\n * doesn't change in such case). Eg: macOS with \"Automatically based on mouse\".\n */\n\n\nvar SCROLLBAR_WIDTH = OS_SCROLLBAR_WIDTH || 20;\n/**\n * Ported from Vitor's SimpleScrollbar library (vanilla JS):\n * https://github.com/buzinas/simple-scrollbar\n * @param {React.ReactNode} content Used as a dependency to re-run the effect\n * @param {React.MutableRefObject} [customRef]\n * @param {Object} [options={}]\n * @param {boolean} [options.disabled]\n */\n\nfunction useCustomScroller(content, customRef) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      disabled = _ref.disabled;\n\n  var _useState = useState(1),\n      _useState2 = _slicedToArray(_useState, 2),\n      scrollRatio = _useState2[0],\n      setScrollRatio = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isDraggingTrack = _useState4[0],\n      setIsDraggingTrack = _useState4[1];\n\n  var ref = useRef();\n  var scrollerRef = customRef || ref;\n  var trackRef = useRef();\n  var trackAnimationRef = useRef();\n  var memoizedProps = useRef({});\n  useLayoutEffect(function () {\n    var el = scrollerRef.current;\n    var scrollbarAnimation;\n\n    var updateScrollbar = function updateScrollbar() {\n      cancelAnimationFrame(scrollbarAnimation);\n      scrollbarAnimation = requestAnimationFrame(function () {\n        var clientHeight = el.clientHeight,\n            scrollHeight = el.scrollHeight;\n        setScrollRatio(clientHeight / scrollHeight);\n        memoizedProps.current = {\n          clientHeight: clientHeight,\n          scrollHeight: scrollHeight,\n          trackHeight: trackRef.current.clientHeight\n        };\n      });\n    };\n\n    window.addEventListener('resize', updateScrollbar);\n    updateScrollbar();\n    return function () {\n      cancelAnimationFrame(scrollbarAnimation);\n      window.removeEventListener('resize', updateScrollbar);\n    };\n  }, [scrollerRef, content]);\n  useLayoutEffect(function () {\n    if (!disabled) return;\n    var el = scrollerRef.current;\n\n    var onWheel = function onWheel(e) {\n      return e.preventDefault();\n    };\n\n    el.addEventListener('wheel', onWheel, {\n      passive: false\n    });\n    return function () {\n      el.removeEventListener('wheel', onWheel);\n    };\n  }, [scrollerRef, disabled]);\n  var onScroll = useCallback(function () {\n    if (scrollRatio === 1) return;\n    var el = scrollerRef.current;\n    var track = trackRef.current;\n    cancelAnimationFrame(trackAnimationRef.current);\n    trackAnimationRef.current = requestAnimationFrame(function () {\n      var _memoizedProps$curren = memoizedProps.current,\n          clientHeight = _memoizedProps$curren.clientHeight,\n          scrollHeight = _memoizedProps$curren.scrollHeight,\n          trackHeight = _memoizedProps$curren.trackHeight;\n      var ratio = el.scrollTop / (scrollHeight - clientHeight);\n      var y = ratio * (clientHeight - trackHeight);\n      track.style.transform = \"translateY(\".concat(y, \"px)\");\n    });\n  }, [scrollerRef, scrollRatio]);\n  var moveTrack = useCallback(function (e) {\n    var el = scrollerRef.current;\n    var moveAnimation;\n    var lastPageY = e.pageY;\n    var lastScrollTop = el.scrollTop;\n    setIsDraggingTrack(true);\n\n    var drag = function drag(_ref2) {\n      var pageY = _ref2.pageY;\n      cancelAnimationFrame(moveAnimation);\n      moveAnimation = requestAnimationFrame(function () {\n        var delta = pageY - lastPageY;\n        lastScrollTop += delta / scrollRatio;\n        lastPageY = pageY;\n        el.scrollTop = lastScrollTop;\n      });\n    };\n\n    var stop = function stop() {\n      setIsDraggingTrack(false);\n      window.removeEventListener('mousemove', drag);\n    };\n\n    window.addEventListener('mousemove', drag);\n    window.addEventListener('mouseup', stop, {\n      once: true\n    });\n  }, [scrollerRef, scrollRatio]);\n  var wrapperProps = {\n    style: {\n      marginLeft: \"-\".concat(SCROLLBAR_WIDTH, \"px\")\n    }\n  };\n  var scrollerProps = {\n    ref: scrollerRef,\n    onScroll: disabled ? undefined : onScroll,\n    style: {\n      right: \"-\".concat(SCROLLBAR_WIDTH, \"px\"),\n      padding: \"0 \".concat(SCROLLBAR_WIDTH, \"px 0 0\"),\n      width: \"calc(100% + \".concat(OS_SCROLLBAR_WIDTH, \"px)\")\n    }\n  };\n  var trackProps = {\n    ref: trackRef,\n    onMouseDown: disabled ? undefined : moveTrack,\n    style: {\n      right: isDraggingTrack ? 1 : undefined,\n      width: isDraggingTrack ? 10 : undefined,\n      height: \"\".concat(scrollRatio * 100, \"%\"),\n      opacity: isDraggingTrack ? 1 : undefined,\n      display: disabled || scrollRatio === 1 ? 'none' : undefined\n    }\n  };\n  return [wrapperProps, scrollerProps, trackProps];\n}\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".index-module_main__1fmTB {\\n  position: relative;\\n}\\n\\n.index-module_main__1fmTB:hover .index-module_track__BIi6w {\\n  opacity: 0.75;\\n}\\n\\n.index-module_wrapper__DnIZj {\\n  position: relative;\\n  height: 100%;\\n  overflow: hidden;\\n}\\n\\n.index-module_inner__3tgFM {\\n  position: relative;\\n  height: 100%;\\n  box-sizing: border-box;\\n  overflow-y: scroll;\\n}\\n\\n.index-module_track__BIi6w {\\n  position: absolute;\\n  top: 0;\\n  right: 3px;\\n  cursor: default;\\n  user-select: none;\\n  width: 6px;\\n  min-height: 30px;\\n  max-height: 100%;\\n  background: rgba(0, 0, 0, 0.4);\\n  border-radius: 4px;\\n  opacity: 0;\\n  transition: opacity 0.25s ease-in;\\n  z-index: 1;\\n}\\n\\n.index-module_track__BIi6w:hover {\\n  width: 10px;\\n  right: 1px;\\n}\\n\";\nvar styles = {\n  \"main\": \"index-module_main__1fmTB\",\n  \"track\": \"index-module_track__BIi6w\",\n  \"wrapper\": \"index-module_wrapper__DnIZj\",\n  \"inner\": \"index-module_inner__3tgFM\"\n};\nstyleInject(css);\n\nvar cx = function cx() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return args.filter(Boolean).join(' ');\n};\n\nvar CustomScroller = forwardRef(function (_ref, ref) {\n  var scrollDisabled = _ref.scrollDisabled,\n      className = _ref.className,\n      innerClassName = _ref.innerClassName,\n      children = _ref.children,\n      props = _objectWithoutProperties(_ref, [\"scrollDisabled\", \"className\", \"innerClassName\", \"children\"]);\n\n  var _useCustomScroller = useCustomScroller(children, ref, {\n    disabled: scrollDisabled\n  }),\n      _useCustomScroller2 = _slicedToArray(_useCustomScroller, 3),\n      wrapperProps = _useCustomScroller2[0],\n      scrollerProps = _useCustomScroller2[1],\n      trackProps = _useCustomScroller2[2];\n\n  return React.createElement(\"div\", _extends({\n    className: cx(className, styles.main)\n  }, props), React.createElement(\"div\", _extends({\n    className: styles.wrapper\n  }, wrapperProps), React.createElement(\"div\", _extends({\n    className: cx(innerClassName, styles.inner)\n  }, scrollerProps), children)), React.createElement(\"div\", _extends({\n    className: styles.track\n  }, trackProps)));\n});\nCustomScroller.propTypes = {\n  scrollDisabled: PropTypes.bool,\n  innerClassName: PropTypes.string,\n  className: PropTypes.string,\n  children: PropTypes.node.isRequired\n};\nCustomScroller.displayName = 'CustomScroller';\nexport default CustomScroller;","map":{"version":3,"sources":["../src/useCustomScroller.js","../node_modules/style-inject/dist/style-inject.es.js","../src/index.js"],"names":["OS_SCROLLBAR_WIDTH","outer","document","inner","scrollbarWidth","SCROLLBAR_WIDTH","disabled","scrollRatio","setScrollRatio","useState","isDraggingTrack","setIsDraggingTrack","ref","useRef","scrollerRef","customRef","trackRef","trackAnimationRef","memoizedProps","useLayoutEffect","el","updateScrollbar","cancelAnimationFrame","scrollbarAnimation","requestAnimationFrame","clientHeight","scrollHeight","trackHeight","window","onWheel","e","passive","onScroll","useCallback","track","ratio","y","moveTrack","lastPageY","lastScrollTop","drag","pageY","moveAnimation","delta","stop","once","wrapperProps","style","marginLeft","scrollerProps","right","padding","width","trackProps","onMouseDown","height","opacity","display","undefined","cx","args","CustomScroller","forwardRef","scrollDisabled","className","innerClassName","children","props","useCustomScroller","styles","wrapper","PropTypes","isRequired"],"mappings":"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","sourcesContent":["import { useLayoutEffect, useRef, useState, useCallback } from 'react';\n\n/**\n * We use a negative right on the content to hide original OS scrollbars\n */\nconst OS_SCROLLBAR_WIDTH = (() => {\n  const outer = document.createElement('div');\n  const inner = document.createElement('div');\n  outer.style.overflow = 'scroll';\n  outer.style.width = '100%';\n  inner.style.width = '100%';\n\n  document.body.appendChild(outer);\n  outer.appendChild(inner);\n  const scrollbarWidth = outer.offsetWidth - inner.offsetWidth;\n  outer.removeChild(inner);\n  document.body.removeChild(outer);\n\n  return scrollbarWidth;\n})();\n\n/**\n * We need this for OSs that automatically hide the scrollbar (so the offset\n * doesn't change in such case). Eg: macOS with \"Automatically based on mouse\".\n */\nconst SCROLLBAR_WIDTH = OS_SCROLLBAR_WIDTH || 20;\n\n/**\n * Ported from Vitor's SimpleScrollbar library (vanilla JS):\n * https://github.com/buzinas/simple-scrollbar\n * @param {React.ReactNode} content Used as a dependency to re-run the effect\n * @param {React.MutableRefObject} [customRef]\n * @param {Object} [options={}]\n * @param {boolean} [options.disabled]\n */\nexport default function useCustomScroller(\n  content,\n  customRef,\n  { disabled } = {},\n) {\n  const [scrollRatio, setScrollRatio] = useState(1);\n  const [isDraggingTrack, setIsDraggingTrack] = useState(false);\n\n  const ref = useRef();\n  const scrollerRef = customRef || ref;\n  const trackRef = useRef();\n  const trackAnimationRef = useRef();\n  const memoizedProps = useRef({});\n\n  useLayoutEffect(() => {\n    const el = scrollerRef.current;\n    let scrollbarAnimation;\n\n    const updateScrollbar = () => {\n      cancelAnimationFrame(scrollbarAnimation);\n      scrollbarAnimation = requestAnimationFrame(() => {\n        const { clientHeight, scrollHeight } = el;\n        setScrollRatio(clientHeight / scrollHeight);\n        memoizedProps.current = {\n          clientHeight,\n          scrollHeight,\n          trackHeight: trackRef.current.clientHeight,\n        };\n      });\n    };\n\n    window.addEventListener('resize', updateScrollbar);\n    updateScrollbar();\n\n    return () => {\n      cancelAnimationFrame(scrollbarAnimation);\n      window.removeEventListener('resize', updateScrollbar);\n    };\n  }, [scrollerRef, content]);\n\n  useLayoutEffect(() => {\n    if (!disabled) return;\n    const el = scrollerRef.current;\n\n    const onWheel = e => e.preventDefault();\n    el.addEventListener('wheel', onWheel, { passive: false });\n\n    return () => {\n      el.removeEventListener('wheel', onWheel);\n    };\n  }, [scrollerRef, disabled]);\n\n  const onScroll = useCallback(() => {\n    if (scrollRatio === 1) return;\n    const el = scrollerRef.current;\n    const track = trackRef.current;\n\n    cancelAnimationFrame(trackAnimationRef.current);\n\n    trackAnimationRef.current = requestAnimationFrame(() => {\n      const { clientHeight, scrollHeight, trackHeight } = memoizedProps.current;\n      const ratio = el.scrollTop / (scrollHeight - clientHeight);\n      const y = ratio * (clientHeight - trackHeight);\n      track.style.transform = `translateY(${y}px)`;\n    });\n  }, [scrollerRef, scrollRatio]);\n\n  const moveTrack = useCallback(\n    e => {\n      const el = scrollerRef.current;\n      let moveAnimation;\n      let lastPageY = e.pageY;\n      let lastScrollTop = el.scrollTop;\n\n      setIsDraggingTrack(true);\n\n      const drag = ({ pageY }) => {\n        cancelAnimationFrame(moveAnimation);\n        moveAnimation = requestAnimationFrame(() => {\n          const delta = pageY - lastPageY;\n          lastScrollTop += delta / scrollRatio;\n          lastPageY = pageY;\n          el.scrollTop = lastScrollTop;\n        });\n      };\n\n      const stop = () => {\n        setIsDraggingTrack(false);\n        window.removeEventListener('mousemove', drag);\n      };\n\n      window.addEventListener('mousemove', drag);\n      window.addEventListener('mouseup', stop, { once: true });\n    },\n    [scrollerRef, scrollRatio],\n  );\n\n  const wrapperProps = {\n    style: {\n      marginLeft: `-${SCROLLBAR_WIDTH}px`,\n    },\n  };\n\n  const scrollerProps = {\n    ref: scrollerRef,\n    onScroll: disabled ? undefined : onScroll,\n    style: {\n      right: `-${SCROLLBAR_WIDTH}px`,\n      padding: `0 ${SCROLLBAR_WIDTH}px 0 0`,\n      width: `calc(100% + ${OS_SCROLLBAR_WIDTH}px)`,\n    },\n  };\n\n  const trackProps = {\n    ref: trackRef,\n    onMouseDown: disabled ? undefined : moveTrack,\n    style: {\n      right: isDraggingTrack ? 1 : undefined,\n      width: isDraggingTrack ? 10 : undefined,\n      height: `${scrollRatio * 100}%`,\n      opacity: isDraggingTrack ? 1 : undefined,\n      display: disabled || scrollRatio === 1 ? 'none' : undefined,\n    },\n  };\n\n  return [wrapperProps, scrollerProps, trackProps];\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport useCustomScroller from './useCustomScroller';\n\nimport styles from './index.module.css';\n\nconst cx = (...args) => args.filter(Boolean).join(' ');\n\nconst CustomScroller = forwardRef(\n  ({ scrollDisabled, className, innerClassName, children, ...props }, ref) => {\n    const [wrapperProps, scrollerProps, trackProps] = useCustomScroller(\n      children,\n      ref,\n      { disabled: scrollDisabled },\n    );\n\n    return (\n      <div className={cx(className, styles.main)} {...props}>\n        <div className={styles.wrapper} {...wrapperProps}>\n          <div className={cx(innerClassName, styles.inner)} {...scrollerProps}>\n            {children}\n          </div>\n        </div>\n        <div className={styles.track} {...trackProps} />\n      </div>\n    );\n  },\n);\n\nCustomScroller.propTypes = {\n  scrollDisabled: PropTypes.bool,\n  innerClassName: PropTypes.string,\n  className: PropTypes.string,\n  children: PropTypes.node.isRequired,\n};\n\nCustomScroller.displayName = 'CustomScroller';\n\nexport default CustomScroller;\n"]},"metadata":{},"sourceType":"module"}